<template>
  <div
    class="inline-flex items-center justify-center rounded-full overflow-hidden bg-transparent"
    :style="{ width: `${size}px`, height: `${size}px`, padding: paddingSize }"
  >
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="w-full h-full relative">
      <g :fill="safeColor">
        <template v-if="avatarType === 0">
          <!-- Avatar 1: Kot -->
          <path
            d="M12,8L10.67,8.09C9.81,7.07 7.4,4.5 5,4.5C5,4.5 3.03,7.46 4.96,11.41C4.41,12.24 4.07,12.67 4,13.66L2.07,13.95L2.28,14.93L4.04,14.67L4.18,15.38L2.61,16.32L3.08,17.21L4.53,16.32C5.68,18.76 8.59,20 12,20C15.41,20 18.32,18.76 19.47,16.32L20.92,17.21L21.39,16.32L19.82,15.38L19.96,14.67L21.72,14.93L21.93,13.95L20,13.66C19.93,12.67 19.59,12.24 19.04,11.41C20.97,7.46 19,4.5 19,4.5C16.6,4.5 14.19,7.07 13.33,8.09L12,8M9,11A1,1 0 0,1 10,12A1,1 0 0,1 9,13A1,1 0 0,1 8,12A1,1 0 0,1 9,11M15,11A1,1 0 0,1 16,12A1,1 0 0,1 15,13A1,1 0 0,1 14,12A1,1 0 0,1 15,11M11,14H13L12.3,15.39C12.5,16.03 13.06,16.5 13.75,16.5A1.5,1.5 0 0,0 15.25,15H15.75A2,2 0 0,1 13.75,17C13,17 12.35,16.59 12,16V16H12C11.65,16.59 11,17 10.25,17A2,2 0 0,1 8.25,15H8.75A1.5,1.5 0 0,0 10.25,16.5C10.94,16.5 11.5,16.03 11.7,15.39L11,14Z"
          />
        </template>

        <template v-else-if="avatarType === 1">
          <!-- Avatar 2: Robot -->
          <path
            d="M22,14H21C21,10.13 17.87,7 14,7H10C6.13,7 3,10.13 3,14H2C1.45,14 1,14.45 1,15V18C1,18.55 1.45,19 2,19H3V20C3,21.11 3.9,22 5,22H19C20.11,22 21,21.11 21,20V19H22C22.55,19 23,18.55 23,18V15C23,14.45 22.55,14 22,14M7.5,18A1.5,1.5 0 0,1 6,16.5A1.5,1.5 0 0,1 7.5,15A1.5,1.5 0 0,1 9,16.5A1.5,1.5 0 0,1 7.5,18M16.5,18A1.5,1.5 0 0,1 15,16.5A1.5,1.5 0 0,1 16.5,15A1.5,1.5 0 0,1 18,16.5A1.5,1.5 0 0,1 16.5,18M5,13V8H6V6H10V8H14V6H18V8H19V13H5Z"
          />
        </template>

        <template v-else-if="avatarType === 2">
          <!-- Avatar 3: Student -->
          <path
            d="M12,3L1,9L12,15L21,10.09V17H23V9M5,13.18V17.18L12,21L19,17.18V13.18L12,17L5,13.18Z"
          />
        </template>

        <template v-else-if="avatarType === 3">
          <!-- Avatar 4: Domyślny użytkownik -->
          <path
            d="M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,14C16.42,14 20,15.79 20,18V20H4V18C4,15.79 7.58,14 12,14Z"
          />
        </template>

        <template v-else-if="avatarType === 4">
          <!-- Avatar 5: Programista -->
          <path
            d="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z"
          />
        </template>

        <!-- Pozostałe szablony avatarów -->
        <template v-else-if="avatarType === 5">
          <path
            d="M12,2A9,9 0 0,1 21,11C21,14.97 18.39,18.39 14.74,19.5C14.85,19.65 14.95,19.82 15.04,20C15.18,20.25 15.3,20.55 15.41,20.84C15.5,21.06 15.5,21.29 15.5,21.5C15.5,21.69 15.47,21.89 15.41,22.08L15.06,23.33L13.73,23L13.78,21.5C13.78,21.28 13.74,21.07 13.67,20.87C13.57,20.55 13.44,20.26 13.29,20C13.18,19.82 13.05,19.67 12.91,19.5C12.95,19.5 12.97,19.5 13,19.5C13.55,19.5 14,19.05 14,18.5V17.74C17.17,16.73 19.5,14.1 19.5,11C19.5,5.61 15.22,2 12,2M7,17.5C7,16.67 6.33,16 5.5,16C4.67,16 4,16.67 4,17.5C4,18.33 4.67,19 5.5,19C6.33,19 7,18.33 7,17.5M10,17C10,16.45 9.55,16 9,16C8.45,16 8,16.45 8,17C8,17.55 8.45,18 9,18C9.55,18 10,17.55 10,17M15,17C15,16.45 14.55,16 14,16C13.45,16 13,16.45 13,17C13,17.55 13.45,18 14,18C14.55,18 15,17.55 15,17M12,7C13.66,7 15,8.34 15,10C15,11.66 13.66,13 12,13C10.34,13 9,11.66 9,10C9,8.34 10.34,7 12,7Z"
          />
        </template>

        <template v-else-if="avatarType === 6">
          <path
            d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,8.39C13.57,9.4 15.42,10 17.42,10C18.2,10 18.95,9.91 19.67,9.74C19.88,10.45 20,11.21 20,12C20,16.42 16.42,20 12,20C7.58,20 4,16.42 4,12C4,11.21 4.12,10.45 4.33,9.74C5.05,9.91 5.8,10 6.58,10C8.58,10 10.43,9.4 12,8.39M18.83,9.26C16.53,9.89 14.03,9.23 12,7.92C9.97,9.23 7.47,9.89 5.17,9.26C5.06,8.96 5,8.64 5,8.3C5,7.03 5.96,6 7.16,6C7.95,6 8.66,6.36 9.07,6.93C9.5,6.67 10,6.5 10.54,6.5H13.46C14,6.5 14.5,6.67 14.93,6.93C15.34,6.36 16.05,6 16.84,6C18.04,6 19,7.03 19,8.3C19,8.64 18.94,8.96 18.83,9.26M12,14C10.9,14 10,13.1 10,12C10,10.9 10.9,10 12,10C13.1,10 14,10.9 14,12C14,13.1 13.1,14 12,14M8.5,14C7.67,14 7,13.33 7,12.5C7,11.67 7.67,11 8.5,11C9.33,11 10,11.67 10,12.5C10,13.33 9.33,14 8.5,14M15.5,14C14.67,14 14,13.33 14,12.5C14,11.67 14.67,11 15.5,11C16.33,11 17,11.67 17,12.5C17,13.33 16.33,14 15.5,14Z"
          />
        </template>

        <template v-else-if="avatarType === 7">
          <path
            d="M12,3C16.97,3 21,6.58 21,11C21,15.42 17,15.5 17,16.5C17,16.5 14.5,18.5 12,18.5C9.5,18.5 7,16.5 7,16.5C7,15.5 3,15.42 3,11C3,6.58 7.03,3 12,3M10,9C9.45,9 9,9.45 9,10C9,10.55 9.45,11 10,11C10.55,11 11,10.55 11,10C11,9.45 10.55,9 10,9M14,9C13.45,9 13,9.45 13,10C13,10.55 13.45,11 14,11C14.55,11 15,10.55 15,10C15,9.45 14.55,9 14,9M12,12.5C11.5,12.5 10.92,12.66 10.38,13C9.93,13.26 9.5,13.71 9.31,14C9.14,14.26 9,14.73 9,15C9,15.28 9.09,15.74 9.21,15.93C9.35,16.15 9.54,16.22 9.7,16.31C9.91,16.42 10.61,16.46 11.07,16.47C11.17,16.47 11.5,16.41 12,16.41C12.5,16.41 12.83,16.47 12.93,16.47C13.39,16.46 14.09,16.42 14.3,16.31C14.46,16.22 14.65,16.15 14.79,15.93C14.91,15.74 15,15.28 15,15C15,14.73 14.86,14.26 14.69,14C14.5,13.71 14.07,13.26 13.62,13C13.08,12.66 12.5,12.5 12,12.5Z"
          />
        </template>

        <template v-else-if="avatarType === 8">
          <path
            d="M7.97,16L5,19C4.67,19.3 4.23,19.5 3.75,19.5A1.75,1.75 0 0,1 2,17.75V17.5L3,10.12C3.21,7.81 5.14,6 7.5,6H16.5C18.86,6 20.79,7.81 21,10.12L22,17.5V17.75A1.75,1.75 0 0,1 20.25,19.5C19.77,19.5 19.33,19.3 19,19L16.03,16H7.97M7,8V10H5V11H7V13H8V11H10V10H8V8H7M16.5,8A0.75,0.75 0 0,0 15.75,8.75A0.75,0.75 0 0,0 16.5,9.5A0.75,0.75 0 0,0 17.25,8.75A0.75,0.75 0 0,0 16.5,8M14.75,9.75A0.75,0.75 0 0,0 14,10.5A0.75,0.75 0 0,0 14.75,11.25A0.75,0.75 0 0,0 15.5,10.5A0.75,0.75 0 0,0 14.75,9.75M18.25,9.75A0.75,0.75 0 0,0 17.5,10.5A0.75,0.75 0 0,0 18.25,11.25A0.75,0.75 0 0,0 19,10.5A0.75,0.75 0 0,0 18.25,9.75M16.5,11.5A0.75,0.75 0 0,0 15.75,12.25A0.75,0.75 0 0,0 16.5,13A0.75,0.75 0 0,0 17.25,12.25A0.75,0.75 0 0,0 16.5,11.5Z"
          />
        </template>

        <template v-else-if="avatarType === 9">
          <path
            d="M6,22A3,3 0 0,1 3,19C3,18.4 3.18,17.84 3.5,17.37L9,7.81V6A1,1 0 0,1 8,5V4A2,2 0 0,1 10,2H14A2,2 0 0,1 16,4V5A1,1 0 0,1 15,6V7.81L20.5,17.37C20.82,17.84 21,18.4 21,19A3,3 0 0,1 18,22H6M5,19A1,1 0 0,0 6,20H18A1,1 0 0,0 19,19C19,18.79 18.93,18.59 18.82,18.43L16.53,14.47L14,17L8.93,11.93L5.18,18.43C5.07,18.59 5,18.79 5,19M13,10A1,1 0 0,0 12,9A1,1 0 0,0 11,10A1,1 0 0,0 12,11A1,1 0 0,0 13,10Z"
          />
        </template>

        <template v-else-if="avatarType === 10">
          <path
            d="M12,2A2,2 0 0,1 14,4C14,4.74 13.6,5.39 13,5.73V7H14A7,7 0 0,1 21,14H22A1,1 0 0,1 23,15V18A1,1 0 0,1 22,19H21V20A2,2 0 0,1 19,22H5A2,2 0 0,1 3,20V19H2A1,1 0 0,1 1,18V15A1,1 0 0,1 2,14H3A7,7 0 0,1 10,7H11V5.73C10.4,5.39 10,4.74 10,4A2,2 0 0,1 12,2M7.5,13A2.5,2.5 0 0,0 5,15.5A2.5,2.5 0 0,0 7.5,18A2.5,2.5 0 0,0 10,15.5A2.5,2.5 0 0,0 7.5,13M16.5,13A2.5,2.5 0 0,0 14,15.5A2.5,2.5 0 0,0 16.5,18A2.5,2.5 0 0,0 19,15.5A2.5,2.5 0 0,0 16.5,13Z"
          />
        </template>

        <template v-else-if="avatarType === 11">
          <path
            d="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z"
          />
        </template>

        <template v-else-if="avatarType === 12">
          <path
            d="M12 4C7.58 4 4 7.58 4 12s3.58 8 8 8 8-3.58 8-8-3.58-8-8-8zm-3 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3zm7.5 1c-.83 0-1.5-.67-1.5-1.5S15.67 10 16.5 10s1.5.67 1.5 1.5S17.33 13 16.5 13zm-9 0c-.83 0-1.5-.67-1.5-1.5S6.67 10 7.5 10s1.5.67 1.5 1.5S8.33 13 7.5 13z"
          />
        </template>

        <template v-else-if="avatarType === 13">
          <path
            d="M12.5,1.5C10.73,1.5 9.17,2.67 8.67,4.37C8.14,4.13 7.58,4 7,4A4,4 0 0,0 3,8C3,9.82 4.24,11.41 6,11.87V19H19V11.87C20.76,11.41 22,9.82 22,8A4,4 0 0,0 18,4C17.42,4 16.86,4.13 16.33,4.37C15.83,2.67 14.27,1.5 12.5,1.5M12,10.5H13V17.5H12V10.5M9,12.5H10V17.5H9V12.5M15,12.5H16V17.5H15V12.5M6,20V21A1,1 0 0,0 7,22H18A1,1 0 0,0 19,21V20H6Z"
          />
        </template>

        <template v-else-if="avatarType === 14">
          <path
            d="M21,3V15.5A3.5,3.5 0 0,1 17.5,19A3.5,3.5 0 0,1 14,15.5A3.5,3.5 0 0,1 17.5,12C18.04,12 18.55,12.12 19,12.34V6.47L9,8.6V17.5A3.5,3.5 0 0,1 5.5,21A3.5,3.5 0 0,1 2,17.5A3.5,3.5 0 0,1 5.5,14C6.04,14 6.55,14.12 7,14.34V6L21,3Z"
          />
        </template>

        <template v-else-if="avatarType === 15">
          <path
            d="M12,6A3,3 0 0,1 15,9A3,3 0 0,1 12,12A3,3 0 0,1 9,9A3,3 0 0,1 12,6M6,8.17A2.5,2.5 0 0,0 3.5,10.67A2.5,2.5 0 0,0 6,13.17C6.88,13.17 7.65,12.71 8.09,12.03C7.42,11.18 7,10.15 7,9C7,8.8 7,8.6 7.04,8.4C6.72,8.25 6.37,8.17 6,8.17M18,8.17C17.63,8.17 17.28,8.25 16.96,8.4C17,8.6 17,8.8 17,9C17,10.15 16.58,11.18 15.91,12.03C16.35,12.71 17.12,13.17 18,13.17A2.5,2.5 0 0,0 20.5,10.67A2.5,2.5 0 0,0 18,8.17M12,14C10,14 6,15 6,17V19H18V17C18,15 14,14 12,14M4.67,14.97C3,15.26 1,16.04 1,17.33V19H4V17C4,16.22 4.29,15.53 4.67,14.97M19.33,14.97C19.71,15.53 20,16.22 20,17V19H23V17.33C23,16.04 21,15.26 19.33,14.97Z"
          />
        </template>

        <template v-else>
          <!-- Avatar 17: Default - Sowa -->
          <path
            d="M12,16C12.33,16.06 12.67,16.06 13.00,16.00C13.33,15.94 13.67,15.94 14.00,16.00C14.33,16.06 14.67,16.06 15.00,16.00C15.33,15.94 15.67,15.94 16.00,16.00C16.33,16.06 16.67,16.06 17.00,16.00C17.33,15.94 17.67,15.94 18.00,16.00C18.33,16.06 18.67,16.06 19.00,16.00C19.33,15.94 19.67,15.94 20.00,16.00C20.33,16.06 20.67,16.06 21.00,16.00C21.17,15.97 21.33,15.97 21.50,16.00C21.83,16.06 22.17,16.06 22.50,16.00C22.67,15.97 22.83,15.97 23.00,16.00C22.67,16.50 22.17,16.83 21.50,17.00C20.83,17.17 20.17,17.33 19.50,17.50C18.83,17.67 18.17,17.83 17.50,18.00C16.83,18.17 16.17,18.33 15.50,18.50C14.83,18.67 14.17,18.83 13.50,19.00C12.83,19.17 12.17,19.33 11.50,19.50C10.83,19.67 10.17,19.83 9.50,20.00C8.83,20.17 8.33,20.33 8.00,20.50C7.83,18.67 8.17,17.00 9.00,15.50C9.83,14.00 11.17,13.00 13.00,12.50C14.83,12.00 16.67,12.00 18.50,12.50C20.33,13.00 21.83,14.00 23.00,15.50C24.17,17.00 24.67,18.67 24.50,20.50C24.33,20.33 24.00,20.17 23.50,20.00C23.00,19.83 22.50,19.67 22.00,19.50C21.50,19.33 21.00,19.17 20.50,19.00C20.00,18.83 19.50,18.67 19.00,18.50C18.50,18.33 18.00,18.17 17.50,18.00C17.00,17.83 16.50,17.67 16.00,17.50C15.50,17.33 15.00,17.17 14.50,17.00C14.00,16.83 13.50,16.67 13.00,16.50C12.67,16.33 12.33,16.17 12.00,16.00L12,16Z M22.00,12.00C22.33,12.33 22.67,12.67 23.00,13.00C23.33,13.33 23.67,13.67 24.00,14.00C23.67,13.33 23.33,12.67 23.00,12.00C22.67,11.33 22.17,10.83 21.50,10.50C20.83,10.17 20.17,10.00 19.50,10.00C18.83,10.00 18.17,10.17 17.50,10.50C16.83,10.83 16.33,11.33 16.00,12.00C16.33,11.67 16.67,11.33 17.00,11.00C17.33,10.67 17.67,10.33 18.00,10.00C18.33,9.67 18.67,9.67 19.00,10.00C19.33,10.33 19.67,10.67 20.00,11.00C20.33,11.33 20.67,11.67 21.00,12.00C21.33,12.33 21.67,12.33 22.00,12.00L22,12Z M9.00,12.00C9.33,12.33 9.67,12.67 10.00,13.00C10.33,13.33 10.67,13.67 11.00,14.00C10.67,13.33 10.33,12.67 10.00,12.00C9.67,11.33 9.17,10.83 8.50,10.50C7.83,10.17 7.17,10.00 6.50,10.00C5.83,10.00 5.17,10.17 4.50,10.50C3.83,10.83 3.33,11.33 3.00,12.00C3.33,11.67 3.67,11.33 4.00,11.00C4.33,10.67 4.67,10.33 5.00,10.00C5.33,9.67 5.67,9.67 6.00,10.00C6.33,10.33 6.67,10.67 7.00,11.00C7.33,11.33 7.67,11.67 8.00,12.00C8.33,12.33 8.67,12.33 9.00,12.00L9,12Z"
          />
        </template>
      </g>
    </svg>
  </div>
</template>

<script setup>
import { computed } from 'vue';

const props = defineProps({
  avatarIndex: {
    type: Number,
    default: 0,
  },
  color: {
    type: [String, Number],
    default: '#3B82F6',
    validator: (value) => typeof value === 'string' || typeof value === 'number',
  },
  size: {
    type: Number,
    default: 32,
  },
});

const avatarType = computed(() => Math.abs(props.avatarIndex % 17));

const safeColor = computed(() => {
  if (typeof props.color === 'string') {
    return props.color;
  }
  if (typeof props.color === 'number') {
    return '#' + props.color.toString(16).padStart(6, '0');
  }
  return '#3B82F6';
});

const paddingSize = computed(() => {
  if (props.size <= 24) return '3px';
  if (props.size >= 48) return '5px';
  return '4px';
});
</script>
