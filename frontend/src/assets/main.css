:root {
  /* Podstawowa paleta kolorów - jasny motyw */
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f9fafb;
  --color-bg-accent: #f3f4f6;
  --color-bg-elevation: #ffffff;
  --color-bg-hover: #f3f4f6;
  --color-bg-active: #e5e7eb;
  --color-bg-subtle: #f8fafc;

  /* Kolory tekstu */
  --color-text-primary: #1f2937;
  --color-text-secondary: #4b5563;
  --color-text-accent: #6b7280;
  --color-text-inverse: #ffffff;
  --color-text-link: #2563eb;
  --color-text-link-hover: #1d4ed8;
  --color-text-muted: #9ca3af;

  /* Elementy interfejsu */
  --color-border: #e5e7eb;
  --color-border-focus: #93c5fd;
  --color-border-light: #f3f4f6;
  --color-border-dark: #d1d5db;
  --color-shadow: rgba(0, 0, 0, 0.1);
  --color-shadow-darker: rgba(0, 0, 0, 0.15);
  --color-input-bg: #ffffff;
  --color-input-placeholder: #9ca3af;
  --color-card-bg: #ffffff;
  --color-header-bg: #3b82f6;
  --color-navbar-bg: #ffffff;
  --color-dropdown-bg: #ffffff;
  --color-tooltip-bg: #111827;
  --color-tooltip-text: #ffffff;
  --color-code-bg: #f3f4f6;
  --color-overlay: rgba(0, 0, 0, 0.5);

  /* Kolory przycisków */
  --color-button-primary: #3b82f6;
  --color-button-primary-hover: #2563eb;
  --color-button-secondary: #f3f4f6;
  --color-button-secondary-hover: #e5e7eb;
  --color-button-danger: #ef4444;
  --color-button-danger-hover: #dc2626;
  --color-button-success: #10b981;
  --color-button-success-hover: #059669;

  /* Kolory stanów */
  --color-success-bg: #ecfdf5;
  --color-success-text: #047857;
  --color-success-border: #a7f3d0;
  --color-error-bg: #fef2f2;
  --color-error-text: #b91c1c;
  --color-error-border: #fecaca;
  --color-warning-bg: #fffbeb;
  --color-warning-text: #b45309;
  --color-warning-border: #fcd34d;
  --color-info-bg: #eff6ff;
  --color-info-text: #1e40af;
  --color-info-border: #bfdbfe;

  /* Gradientowe tło */
  --color-gradient-start: #f0f9ff;
  --color-gradient-end: #e6f0f9;

  /* Przejścia */
  --transition-speed: 0.3s;
  --transition-function: cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme='dark'] {
  /* ===== PODSTAWOWA PALETA KOLORÓW CIEMNEGO MOTYWU ===== */

  /* Podstawowe tła - większy kontrast i harmonijne odcienie */
  --color-bg-primary: #080b16; /* Głęboki granat, prawie czarny - zwiększony kontrast */
  --color-bg-secondary: #131c31; /* Ciemniejszy, z delikatnym odcieniem */
  --color-bg-accent: #26304d; /* Ciemny indygo z subtelnymi tonami */
  --color-bg-elevation: #1a2236; /* Lekko jaśniejszy dla elementów wyniesionych */
  --color-bg-hover: #202942; /* Elegancki hover na elementach */
  --color-bg-active: #2d395b; /* Wyraźniejszy stan aktywny */
  --color-bg-subtle: #0c111f; /* Bardzo ciemny dla elementów subtelnych */

  /* Tekst - zwiększone kontrasty i czytelność */
  --color-text-primary: #255381; /* Bardzo jasny, prawie biały - najlepszy kontrast */
  --color-text-secondary: #5b5d5f; /* Jasny srebrny */
  --color-text-accent: #cbd5e1; /* Perłowo-szary */
  --color-text-inverse: #0c111f; /* Ciemny kolor dla jasnych tło */
  --color-text-link: #5eabf2; /* Jaśniejszy niebieski - bardziej przyjazny dla oczu */
  --color-text-link-hover: #98c6f5; /* Bardzo jasny przy hover - doskonały kontrast */
  --color-text-muted: #94a3b8; /* Szarość, wciąż czytelna ale mniej widoczna */

  /* Elementy interfejsu - subtelniejsze, ale czytelne granice */
  --color-border: #2d395b; /* Jaśniejsze obramowania dla lepszej widoczności */
  --color-border-focus: #5eabf2; /* Wyraźny niebieski dla elementów z fokusem */
  --color-border-light: #1a2236; /* Lekkie obramowanie */
  --color-border-dark: #364673; /* Wyraźniejsze obramowanie */
  --color-shadow: rgba(0, 0, 0, 0.6); /* Głębsze cienie */
  --color-shadow-darker: rgba(0, 0, 0, 0.8); /* Bardzo wyraźne cienie */
  --color-input-bg: #131c31; /* Tło pól formularzy */
  --color-input-placeholder: #94a3b8; /* Widoczny ale nie rozpraszający placeholder */
  --color-card-bg: #131c31; /* Tło kart */
  --color-header-bg: #0369a1; /* Jaśniejszy niebieski dla nagłówków */
  --color-navbar-bg: #080b16; /* Bardzo ciemne tło nawigacji */
  --color-dropdown-bg: #1a2236; /* Tło rozwijanych menu */
  --color-tooltip-bg: #f1f5f9; /* Jasne tło dla tooltipów */
  --color-tooltip-text: #0c111f; /* Ciemny tekst w tooltipach */
  --color-code-bg: #1e293b; /* Tło dla bloków kodu */
  --color-overlay: rgba(0, 0, 0, 0.85); /* Bardzo ciemny overlay */

  /* Kolory przycisków - jaskrawsze dla lepszej widoczności */
  --color-button-primary: #0ea5e9; /* Żywy niebieski */
  --color-button-primary-hover: #38bdf8; /* Jaśniejszy niebieski przy hover */
  --color-button-secondary: #26304d; /* Ciemny indygo dla przycisków drugorzędnych */
  --color-button-secondary-hover: #2d395b; /* Jaśniejszy hover */
  --color-button-danger: #f43f5e; /* Żywa czerwień */
  --color-button-danger-hover: #fb7185; /* Jaśniejsza czerwień hover */
  --color-button-success: #10b981; /* Wyrazista zieleń */
  --color-button-success-hover: #34d399; /* Jaśniejsza zieleń hover */

  /* Kolory stanów - bardziej nasycone dla lepszej widoczności */
  --color-success-bg: rgba(16, 185, 129, 0.15); /* Bardziej przejrzysta zieleń */
  --color-success-text: #4ade80; /* Jaśniejszy, bardziej neonowy zielony */
  --color-success-border: #10b981; /* Wyraźna zielona krawędź */

  --color-error-bg: rgba(239, 68, 68, 0.15); /* Bardziej przejrzysta czerwień */
  --color-error-text: #fb7185; /* Jaśniejsza czerwień dla lepszej czytelności */
  --color-error-border: #f43f5e; /* Wyraźna czerwona krawędź */

  --color-warning-bg: rgba(245, 158, 11, 0.15); /* Bardziej przejrzysta żółć */
  --color-warning-text: #fbbf24; /* Jasny żółty - ostrzegawczy */
  --color-warning-border: #f59e0b; /* Wyraźna żółta krawędź */

  --color-info-bg: rgba(14, 165, 233, 0.15); /* Bardziej przejrzysta niebieski */
  --color-info-text: #38bdf8; /* Jasny niebieski dla informacji */
  --color-info-border: #0ea5e9; /* Wyraźna niebieska krawędź */

  /* Gradientowe tło - bardziej spektakularne */
  --color-gradient-start: #0c111f; /* Głęboki granat */
  --color-gradient-end: #131c31; /* Ciemny niebieski */
}

/* ===== GLOBALNE STYLE ===== */

body {
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  transition:
    background-color var(--transition-speed) var(--transition-function),
    color var(--transition-speed) var(--transition-function);
}

/* Poprawione efekty przejść dla płynniejszych zmian */
* {
  transition-property: background-color, border-color, color, box-shadow, opacity;
  transition-duration: var(--transition-speed);
  transition-timing-function: var(--transition-function);
}

/* Nagłówki */
h1,
h2,
h3,
h4,
h5,
h6 {
  color: var(--color-text-primary);
}

/* Linki */
a {
  color: var(--color-text-link);
}

a:hover {
  color: var(--color-text-link-hover);
}

/* ===== ROZSZERZONE STYLE DLA CIEMNEGO MOTYWU ===== */

/* Poprawa kontrastu dla tekstu na różnych tłach */
[data-theme='dark'] {
  /* Poprawione kolory dla klas Tailwind */
  --tw-text-opacity: 1;
  --tw-bg-opacity: 1;
  --tw-border-opacity: 1;

  /* Lepsze cienie w trybie ciemnym */
  --tw-shadow: 0 4px 6px rgba(0, 0, 0, 0.3), 0 1px 3px rgba(0, 0, 0, 0.4);
  --tw-shadow-colored: 0 4px 6px var(--tw-shadow-color), 0 1px 3px var(--tw-shadow-color);

  /* Subtelne poświaty dla elementów interaktywnych */
  --tw-ring-offset-shadow: 0 0 #0000;
  --tw-ring-shadow: 0 0 #0000;
  --tw-ring-color: rgba(14, 165, 233, 0.3);
}

/* Rozszerzone style dla tekstu w różnych kontekstach */
[data-theme='dark'] .prose {
  color: var(--color-text-secondary);
}

[data-theme='dark'] .prose h1,
[data-theme='dark'] .prose h2,
[data-theme='dark'] .prose h3,
[data-theme='dark'] .prose h4 {
  color: var(--color-text-primary);
}

[data-theme='dark'] .prose strong {
  color: var(--color-text-primary);
}

[data-theme='dark'] .prose a {
  color: var(--color-text-link);
}

[data-theme='dark'] .prose code {
  color: #f472b6; /* Jasny róż dla kodu */
  background-color: var(--color-code-bg);
}

/* Poprawki dla klas tekstowych */
[data-theme='dark'] .text-black {
  color: var(--color-text-primary) !important;
}

[data-theme='dark'] .text-white {
  color: var(--color-text-inverse) !important;
}

[data-theme='dark'] .text-gray-900,
[data-theme='dark'] .text-gray-800,
[data-theme='dark'] .text-gray-700 {
  color: var(--color-text-primary) !important;
}

[data-theme='dark'] .text-gray-600,
[data-theme='dark'] .text-gray-500 {
  color: var(--color-text-secondary) !important;
}

[data-theme='dark'] .text-gray-400,
[data-theme='dark'] .text-gray-300 {
  color: var(--color-text-accent) !important;
}

/* Poprawki dla klas tła */
[data-theme='dark'] .bg-black {
  background-color: #000000 !important;
}

[data-theme='dark'] .bg-white {
  background-color: var(--color-card-bg) !important;
}

[data-theme='dark'] .bg-gray-900 {
  background-color: #111827 !important;
}

[data-theme='dark'] .bg-gray-800 {
  background-color: #1f2937 !important;
}

[data-theme='dark'] .bg-gray-700 {
  background-color: #374151 !important;
}

[data-theme='dark'] .bg-gray-600 {
  background-color: #4b5563 !important;
}

[data-theme='dark'] .bg-gray-400 {
  background-color: #9ca3af !important;
}

[data-theme='dark'] .bg-gray-300 {
  background-color: var(--color-bg-accent) !important;
}

[data-theme='dark'] .bg-gray-200,
[data-theme='dark'] .bg-gray-100,
[data-theme='dark'] .bg-gray-50 {
  background-color: var(--color-bg-secondary) !important;
}

/* Poprawki dla klas obramowań */
[data-theme='dark'] .border,
[data-theme='dark'] .border-gray-200,
[data-theme='dark'] .border-gray-300 {
  border-color: var(--color-border) !important;
}

/* ===== SPECYFICZNE KOMPONENTY ===== */

[data-theme='dark'] .answer-option {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
}

[data-theme='dark'] .answer-option:hover {
  background-color: var(--color-bg-hover);
}

[data-theme='dark'] .answer-option.selected {
  border-color: var(--color-button-primary);
  background-color: rgba(14, 165, 233, 0.15);
}

[data-theme='dark'] .answer-option.correct {
  border-color: var(--color-button-success);
  background-color: rgba(16, 185, 129, 0.15);
}

[data-theme='dark'] .answer-option.incorrect {
  border-color: var(--color-button-danger);
  background-color: rgba(239, 68, 68, 0.15);
}

/* Style dla kodu i bloków preformatowanych */
[data-theme='dark'] pre,
[data-theme='dark'] code {
  background-color: var(--color-code-bg);
  border: 1px solid var(--color-border);
  color: #f472b6; /* Jasny róż */
}

/* Elementy formularzy */
[data-theme='dark'] select option {
  background-color: var(--color-dropdown-bg);
  color: var(--color-text-primary);
}

[data-theme='dark'] input:disabled,
[data-theme='dark'] textarea:disabled,
[data-theme='dark'] select:disabled {
  background-color: var(--color-bg-subtle);
  color: var(--color-text-accent);
  border-color: var(--color-border);
  opacity: 0.7;
}

/* Efekt podświetlenia aktywnego pola formularza */
[data-theme='dark'] input:focus,
[data-theme='dark'] textarea:focus,
[data-theme='dark'] select:focus {
  box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.3);
  border-color: var(--color-border-focus);
}

/* Dodaj subtelne poświaty przy interakcji */
[data-theme='dark'] .quiz-card:hover,
[data-theme='dark'] .history-card:hover,
[data-theme='dark'] .question-card:hover {
  box-shadow: 0 0 15px rgba(56, 189, 248, 0.1);
}

/* Stylizacja pasków postępu */
[data-theme='dark'] .progress-bar {
  background-color: var(--color-bg-accent);
}

[data-theme='dark'] .progress-bar-fill {
  background-color: var(--color-button-primary);
}

[data-theme='dark'] .progress-bar-fill.success {
  background-color: var(--color-button-success);
}

[data-theme='dark'] .progress-bar-fill.danger {
  background-color: var(--color-button-danger);
}

/* Style dla statystyk i wykresów */
[data-theme='dark'] .chart-container {
  background-color: var(--color-card-bg);
  border: 1px solid var(--color-border);
}

/* Stylizacja tabeli */
[data-theme='dark'] .table-striped tr:nth-child(even) {
  background-color: var(--color-bg-subtle);
}

/* Poprawione style modalnych okien */
[data-theme='dark'] .modal-overlay {
  background-color: var(--color-overlay);
}

[data-theme='dark'] .modal-content {
  background-color: var(--color-card-bg);
  border: 1px solid var(--color-border);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
}

/* Efekty glassmorphism dla paneli w ciemnym motywie */
[data-theme='dark'] .glass-panel {
  background-color: rgba(30, 41, 59, 0.7);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(51, 65, 85, 0.5);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

/* Dodatkowe style dla przycisków w ciemnym motywie */
[data-theme='dark'] .btn-outline-primary {
  color: var(--color-button-primary);
  border-color: var(--color-button-primary);
  background-color: transparent;
}

[data-theme='dark'] .btn-outline-primary:hover {
  color: var(--color-text-inverse);
  background-color: var(--color-button-primary);
}

/* Efekt pulsowania dla ważnych elementów */
@keyframes pulse-dark {
  0%,
  100% {
    box-shadow: 0 0 0 0 rgba(56, 189, 248, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(56, 189, 248, 0);
  }
}

[data-theme='dark'] .pulse-effect {
  animation: pulse-dark 2s infinite;
}

/* Przejścia dla switchy i kontrolek */
[data-theme='dark'] .toggle-switch {
  background-color: var(--color-bg-accent);
}

[data-theme='dark'] .toggle-switch.active {
  background-color: var(--color-button-success);
}

/* Lepsze style dla przewijanej zawartości */
[data-theme='dark'] .scrollable-content::-webkit-scrollbar-track {
  background: var(--color-bg-subtle);
}

[data-theme='dark'] .scrollable-content::-webkit-scrollbar-thumb {
  background-color: var(--color-bg-active);
  border-radius: 6px;
  border: 2px solid var(--color-bg-subtle);
}

/* Poprawa kontrastu dla elementów powodzenia/błędu/ostrzeżenia */
[data-theme='dark'] .text-success {
  color: #34d399 !important;
}

[data-theme='dark'] .text-danger,
[data-theme='dark'] .text-error {
  color: #f87171 !important;
}

[data-theme='dark'] .text-warning {
  color: #fbbf24 !important;
}

[data-theme='dark'] .text-info {
  color: #38bdf8 !important;
}

/* ===== ULEPSZONE GLOBALNE STYLE ===== */

/* Podstawowe efekty przejść */
[data-theme='dark'] * {
  transition-property: background-color, border-color, color, box-shadow, opacity, transform;
  transition-duration: var(--transition-speed);
  transition-timing-function: var(--transition-function);
}

/* Lepsza czytelność tekstu w ciemnym motywie */
[data-theme='dark'] body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  letter-spacing: 0.01em;
  line-height: 1.6;
}

/* Opisy i etykiety - poprawiona czytelność */
[data-theme='dark'] label,
[data-theme='dark'] .label,
[data-theme='dark'] .caption,
[data-theme='dark'] .description {
  color: var(--color-text-secondary);
  font-weight: 500;
}

/* ===== DODATKOWE ULEPSZONE STYLE DLA SPECYFICZNYCH ELEMENTÓW ===== */

/* Poprawione style dla przycisków */
[data-theme='dark'] button,
[data-theme='dark'] .button,
[data-theme='dark'] .btn {
  position: relative;
  overflow: hidden;
}

/* Efekt ripple przy kliknięciu */
[data-theme='dark'] button::after,
[data-theme='dark'] .button::after,
[data-theme='dark'] .btn::after {
  content: '';
  display: block;
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background-color: currentColor;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
}

[data-theme='dark'] button:active::after,
[data-theme='dark'] .button:active::after,
[data-theme='dark'] .btn:active::after {
  opacity: 0.1;
}

/* Podświetlenie przycisków na hover */
[data-theme='dark'] .btn-primary:hover,
[data-theme='dark'] .btn-success:hover,
[data-theme='dark'] .btn-danger:hover {
  filter: brightness(1.15);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

[data-theme='dark'] .btn-primary:active,
[data-theme='dark'] .btn-success:active,
[data-theme='dark'] .btn-danger:active {
  filter: brightness(0.9);
  transform: translateY(0);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

/* Ulepszone style dla kart i kontenerów */
[data-theme='dark'] .card,
[data-theme='dark'] .panel,
[data-theme='dark'] .box,
[data-theme='dark'] .container-box {
  box-shadow:
    0 4px 16px rgba(0, 0, 0, 0.2),
    0 2px 6px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.05);
  border-radius: 0.5rem;
}

/* Subtelne gradienty dla elementów interfejsu */
[data-theme='dark'] .navbar,
[data-theme='dark'] .header,
[data-theme='dark'] .footer {
  background: linear-gradient(180deg, var(--color-bg-primary) 0%, var(--color-bg-subtle) 100%);
}

/* Lepsze kontrastowe obramowania dla kart */
[data-theme='dark'] .card,
[data-theme='dark'] .panel {
  border: 1px solid var(--color-border);
  border-top: 1px solid rgba(255, 255, 255, 0.08);
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
}

/* Lepsze style dla elementów formularzy */
[data-theme='dark'] input,
[data-theme='dark'] select,
[data-theme='dark'] textarea {
  background-color: var(--color-bg-primary) !important; /* Ciemniejsze tło */
  border: 1px solid var(--color-border) !important;
  color: var(--color-text-primary) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

[data-theme='dark'] input:focus,
[data-theme='dark'] select:focus,
[data-theme='dark'] textarea:focus {
  border-color: var(--color-border-focus) !important;
  box-shadow:
    0 0 0 3px rgba(94, 171, 242, 0.2),
    inset 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* Poprawa kontrastu dla checkboxów i radio */
[data-theme='dark'] input[type='checkbox'],
[data-theme='dark'] input[type='radio'] {
  border-color: var(--color-border-dark) !important;
  background-color: var(--color-bg-primary) !important;
}

[data-theme='dark'] input[type='checkbox']:checked,
[data-theme='dark'] input[type='radio']:checked {
  background-color: var(--color-button-primary) !important;
  border-color: var(--color-button-primary) !important;
}

/* Ulepszone style dla rozwijanych menu */
[data-theme='dark'] .dropdown-menu {
  background-color: var(--color-dropdown-bg);
  border: 1px solid var(--color-border);
  box-shadow:
    0 10px 25px rgba(0, 0, 0, 0.3),
    0 6px 12px rgba(0, 0, 0, 0.2),
    0 1px 0 rgba(255, 255, 255, 0.06);
  backdrop-filter: blur(8px);
}

[data-theme='dark'] .dropdown-item {
  color: var(--color-text-secondary);
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
  margin: 0.125rem;
}

[data-theme='dark'] .dropdown-item:hover {
  color: var(--color-text-primary);
  background-color: var(--color-bg-hover);
}

[data-theme='dark'] .dropdown-item.active {
  color: #ffffff;
  background-color: var(--color-button-primary);
}

/* Style dla odpowiedzi quizu - większy kontrast */
[data-theme='dark'] .answer-option {
  background-color: var(--color-bg-primary) !important;
  border: 1px solid var(--color-border) !important;
  transition: all 0.2s ease;
}

[data-theme='dark'] .answer-option:hover {
  background-color: var(--color-bg-hover) !important;
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

[data-theme='dark'] .answer-option.selected {
  border-color: var(--color-button-primary) !important;
  background-color: rgba(14, 165, 233, 0.2) !important;
  box-shadow:
    0 0 0 1px var(--color-button-primary),
    0 4px 12px rgba(14, 165, 233, 0.2);
}

[data-theme='dark'] .answer-option.correct {
  border-color: var(--color-button-success) !important;
  background-color: rgba(16, 185, 129, 0.2) !important;
  box-shadow:
    0 0 0 1px var(--color-button-success),
    0 4px 12px rgba(16, 185, 129, 0.2);
}

[data-theme='dark'] .answer-option.incorrect {
  border-color: var(--color-button-danger) !important;
  background-color: rgba(244, 63, 94, 0.2) !important;
  box-shadow:
    0 0 0 1px var(--color-button-danger),
    0 4px 12px rgba(244, 63, 94, 0.2);
}

/* Dodatkowy kontrast dla wykresów i wizualizacji */
[data-theme='dark'] .chart-area {
  background-color: var(--color-bg-secondary);
  border-radius: 0.5rem;
  padding: 1rem;
  box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.2);
}

[data-theme='dark'] .chart-grid-line {
  stroke: var(--color-border);
  stroke-opacity: 0.3;
}

[data-theme='dark'] .chart-label {
  fill: var(--color-text-secondary);
  font-size: 0.75rem;
}

/* Animowane przejścia dla elementów interfejsu */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

[data-theme='dark'] .fade-in {
  animation: fadeIn 0.3s ease forwards;
}

/* Efekt glassmorphism dla wybranych elementów */
[data-theme='dark'] .glass-card {
  background-color: rgba(19, 28, 49, 0.7);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(45, 57, 91, 0.6);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

/* Ulepszone style dla tabeli */
[data-theme='dark'] table {
  border-collapse: separate;
  border-spacing: 0;
  width: 100%;
  border-radius: 0.5rem;
  overflow: hidden;
}

[data-theme='dark'] th {
  background-color: var(--color-bg-secondary) !important;
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.75rem;
  letter-spacing: 0.05em;
  border-bottom: 2px solid var(--color-border-dark) !important;
}

[data-theme='dark'] td {
  background-color: var(--color-bg-primary) !important;
  border-bottom: 1px solid var(--color-border) !important;
}

[data-theme='dark'] tr:last-child td {
  border-bottom: none !important;
}

[data-theme='dark'] tr:hover td {
  background-color: var(--color-bg-hover) !important;
}

/* Ulepszone style dla modali - bardziej wyróżniające się */
[data-theme='dark'] .modal-content {
  background-color: var(--color-bg-secondary);
  border-radius: 1rem;
  border: 1px solid var(--color-border);
  box-shadow:
    0 25px 50px rgba(0, 0, 0, 0.5),
    0 10px 20px rgba(0, 0, 0, 0.3);
  overflow: hidden;
}

[data-theme='dark'] .modal-header {
  background-color: var(--color-bg-primary);
  border-bottom: 1px solid var(--color-border);
  padding: 1.25rem 1.5rem;
}

[data-theme='dark'] .modal-body {
  padding: 1.5rem;
}

[data-theme='dark'] .modal-footer {
  background-color: var(--color-bg-primary);
  border-top: 1px solid var(--color-border);
  padding: 1.25rem 1.5rem;
}

/* Ulepszenia dla scrollbara */
[data-theme='dark'] ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

[data-theme='dark'] ::-webkit-scrollbar-track {
  background: var(--color-bg-subtle);
  border-radius: 8px;
}

[data-theme='dark'] ::-webkit-scrollbar-thumb {
  background-color: var(--color-border-dark);
  border-radius: 8px;
  border: 3px solid var(--color-bg-subtle);
}

[data-theme='dark'] ::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-border-focus);
}

/* Stylizacja dla kodów i instrukcji */
[data-theme='dark'] pre {
  background-color: var(--color-code-bg);
  border: 1px solid var(--color-border);
  border-radius: 0.5rem;
  padding: 1rem;
  color: var(--color-text-primary);
  overflow-x: auto;
  font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
}

[data-theme='dark'] code {
  background-color: rgba(38, 48, 77, 0.5);
  color: #f472b6; /* Jasny róż */
  padding: 0.2em 0.4em;
  border-radius: 0.25rem;
  font-size: 0.875em;
}

/* Wyraźniejsze stany dla powiadomień i alertów */
[data-theme='dark'] .toast,
[data-theme='dark'] .notification {
  background-color: var(--color-bg-elevation);
  border-left: 4px solid var(--color-border-dark);
  border-radius: 0.5rem;
  box-shadow:
    0 10px 15px -3px rgba(0, 0, 0, 0.3),
    0 4px 6px -4px rgba(0, 0, 0, 0.2);
}

[data-theme='dark'] .toast-success,
[data-theme='dark'] .notification-success {
  border-left-color: var(--color-button-success);
}

[data-theme='dark'] .toast-error,
[data-theme='dark'] .notification-error {
  border-left-color: var(--color-button-danger);
}

[data-theme='dark'] .toast-warning,
[data-theme='dark'] .notification-warning {
  border-left-color: var(--color-warning-text);
}

[data-theme='dark'] .toast-info,
[data-theme='dark'] .notification-info {
  border-left-color: var(--color-button-primary);
}

/* Badge i etykiety - wyraźniejsze w ciemnym motywie */
[data-theme='dark'] .badge,
[data-theme='dark'] .tag {
  font-size: 0.75rem;
  padding: 0.25em 0.6em;
  border-radius: 9999px;
  font-weight: 600;
  letter-spacing: 0.025em;
  text-transform: uppercase;
}

[data-theme='dark'] .badge-primary,
[data-theme='dark'] .tag-primary {
  background-color: rgba(14, 165, 233, 0.25);
  color: var(--color-button-primary);
}

[data-theme='dark'] .badge-success,
[data-theme='dark'] .tag-success {
  background-color: rgba(16, 185, 129, 0.25);
  color: var(--color-button-success);
}

[data-theme='dark'] .badge-danger,
[data-theme='dark'] .tag-danger {
  background-color: rgba(244, 63, 94, 0.25);
  color: var(--color-button-danger);
}

[data-theme='dark'] .badge-warning,
[data-theme='dark'] .tag-warning {
  background-color: rgba(245, 158, 11, 0.25);
  color: var(--color-warning-text);
}

/* Ulepszenie kolorów dla konkretnych elementów Tailwind */
[data-theme='dark'] .text-green-500,
[data-theme='dark'] .text-green-600,
[data-theme='dark'] .text-green-700 {
  color: #4ade80 !important; /* Jaśniejszy odcień zieleni */
}

[data-theme='dark'] .text-red-500,
[data-theme='dark'] .text-red-600,
[data-theme='dark'] .text-red-700 {
  color: #fb7185 !important; /* Jaśniejszy odcień czerwieni */
}

[data-theme='dark'] .text-yellow-500,
[data-theme='dark'] .text-yellow-600,
[data-theme='dark'] .text-yellow-700 {
  color: #fbbf24 !important; /* Jaśniejszy odcień żółci */
}

[data-theme='dark'] .text-blue-500,
[data-theme='dark'] .text-blue-600,
[data-theme='dark'] .text-blue-700 {
  color: #5eabf2 !important; /* Jaśniejszy odcień niebieskiego */
}

/* Dodatkowe efekty dla przycisków akcji */
[data-theme='dark'] .action-button {
  position: relative;
  overflow: hidden;
  transition: all 0.3s ease;
}

[data-theme='dark'] .action-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transition: left 0.7s ease;
}

[data-theme='dark'] .action-button:hover::before {
  left: 100%;
}

/* Specjalne style dla elementów nawigacji */
[data-theme='dark'] .nav-item {
  position: relative;
  padding: 0.5rem 1rem;
  border-radius: 0.375rem;
  transition: all 0.2s ease;
}

[data-theme='dark'] .nav-item::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 2px;
  background: var(--color-button-primary);
  transition: all 0.3s ease;
  opacity: 0;
  transform: translateX(-50%);
}

[data-theme='dark'] .nav-item:hover::after,
[data-theme='dark'] .nav-item.active::after {
  width: 60%;
  opacity: 1;
}

[data-theme='dark'] .nav-item.active {
  color: var(--color-text-primary);
  background-color: var(--color-bg-hover);
}

/* Stylizacja tooltipów - bardziej wyraziste */
[data-theme='dark'] [role='tooltip'],
[data-theme='dark'] .tooltip {
  background-color: var(--color-tooltip-bg);
  color: var(--color-tooltip-text);
  font-size: 0.75rem;
  padding: 0.5rem 0.75rem;
  border-radius: 0.25rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  z-index: 50;
  max-width: 250px;
  white-space: normal;
  word-wrap: break-word;
}

/* Filtry dla lepszej widoczności ikon SVG */
[data-theme='dark'] svg.icon {
  filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.5));
}

/* ===== DODATKOWE KOMPONENTY APLIKACJI ===== */

/* Komponenty nawigacji i menu */
[data-theme='dark'] .sidebar,
[data-theme='dark'] .side-navigation,
[data-theme='dark'] .sidenav {
  background-color: var(--color-bg-subtle);
  border-right: 1px solid var(--color-border);
}

[data-theme='dark'] .sidebar .nav-item,
[data-theme='dark'] .side-navigation .nav-item {
  margin-bottom: 2px;
  border-radius: 0.375rem;
}

[data-theme='dark'] .sidebar .nav-item:hover,
[data-theme='dark'] .side-navigation .nav-item:hover {
  background-color: var(--color-bg-hover);
}

[data-theme='dark'] .sidebar .nav-item.active,
[data-theme='dark'] .side-navigation .nav-item.active {
  background-color: rgba(14, 165, 233, 0.15);
  color: var(--color-button-primary);
}

/* Quiz i egzaminy - kompleksowe style */

[data-theme='dark'] .quiz-footer,
[data-theme='dark'] .exam-footer {
  background-color: var(--color-bg-secondary);
  border-top: 1px solid var(--color-border);
}

[data-theme='dark'] .question-number {
  color: black;
}

[data-theme='dark'] .question-number.current {
  background-color: var(--color-button-primary);
  color: black;
  border-color: var(--color-button-primary);
}

[data-theme='dark'] .question-number.answered {
  background-color: rgba(14, 165, 233, 0.2);
  border-color: var(--color-button-primary);
}

[data-theme='dark'] .question-explanation {
  background-color: var(--color-bg-subtle);
  border-left: 4px solid var(--color-info-border);
  padding: 1rem;
  margin: 1rem 0;
  border-radius: 0 0.375rem 0.375rem 0;
}

/* Specjalne style dla komponentu rezultatów */
[data-theme='dark'] .result-card {
  background: linear-gradient(145deg, var(--color-bg-secondary) 0%, var(--color-bg-elevation) 100%);
  border-radius: 0.75rem;
  border: 1px solid var(--color-border);
  overflow: hidden;
}

[data-theme='dark'] .result-header {
  background-color: var(--color-bg-primary);
  padding: 1.5rem;
  border-bottom: 1px solid var(--color-border);
}

[data-theme='dark'] .result-score {
  font-size: 2.5rem;
  font-weight: 700;
  text-align: center;
  color: var(--color-text-primary);
  margin: 1rem 0;
}

[data-theme='dark'] .score-high {
  color: var(--color-success-text);
}

[data-theme='dark'] .score-medium {
  color: var(--color-warning-text);
}

[data-theme='dark'] .score-low {
  color: var(--color-error-text);
}

/* Timeline i historia */
[data-theme='dark'] .timeline {
  position: relative;
}

[data-theme='dark'] .timeline-line {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 1.25rem;
  width: 2px;
  background-color: var(--color-border);
}

[data-theme='dark'] .timeline-item {
  position: relative;
  padding-left: 2.5rem;
  padding-bottom: 1.5rem;
}

[data-theme='dark'] .timeline-dot {
  position: absolute;
  left: 0;
  top: 0;
  width: 1.5rem;
  height: 1.5rem;
  border-radius: 50%;
  background-color: var(--color-button-primary);
  border: 3px solid var(--color-bg-primary);
  z-index: 10;
}

/* Neomorfizm dla wybranych elementów w ciemnym trybie */
[data-theme='dark'] .neomorphic {
  background: var(--color-bg-secondary);
  border-radius: 0.75rem;
  box-shadow:
    5px 5px 10px rgba(0, 0, 0, 0.4),
    -5px -5px 10px rgba(255, 255, 255, 0.05);
  border: none;
  padding: 1rem;
}

[data-theme='dark'] .neomorphic:hover {
  box-shadow:
    4px 4px 8px rgba(0, 0, 0, 0.5),
    -4px -4px 8px rgba(255, 255, 255, 0.06),
    inset 1px 1px 1px rgba(255, 255, 255, 0.02);
}

/* Komponenty układu (layout) */
[data-theme='dark'] .grid-container,
[data-theme='dark'] .layout-container {
  background-color: var(--color-bg-primary);
  border-radius: 0.5rem;
}

[data-theme='dark'] .section-divider {
  border-top: 1px solid var(--color-border);
  margin: 2rem 0;
}

[data-theme='dark'] .section-title {
  color: var(--color-text-primary);
  font-weight: 600;
  position: relative;
  padding-bottom: 0.75rem;
}

[data-theme='dark'] .section-title::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: 0;
  height: 3px;
  width: 3rem;
  background-color: var(--color-button-primary);
  border-radius: 3px;
}

/* ===== INTEGRACJA Z ZEWNĘTRZNYMI BIBLIOTEKAMI ===== */

/* Integracja z Chart.js */
[data-theme='dark'] .chartjs-render-monitor {
  filter: brightness(1.2) contrast(0.85);
}

[data-theme='dark'] .chartjs-tooltip {
  background-color: rgba(19, 28, 49, 0.85) !important;
  color: var(--color-text-primary) !important;
  border: 1px solid var(--color-border) !important;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
}

/* Integracja z Vue Date Picker */
[data-theme='dark'] .v-date-picker-table,
[data-theme='dark'] .v-date-picker-header {
  background-color: var(--color-bg-secondary) !important;
  color: var(--color-text-primary) !important;
}

[data-theme='dark'] .v-date-picker-table .active {
  background-color: var(--color-button-primary) !important;
  color: #ffffff !important;
}

/* Integracja ze Swiper */
[data-theme='dark'] .swiper-container {
  background-color: var(--color-bg-primary);
}

[data-theme='dark'] .swiper-pagination-bullet {
  background-color: var(--color-text-accent) !important;
}

[data-theme='dark'] .swiper-pagination-bullet-active {
  background-color: var(--color-button-primary) !important;
}

/* Integracja z Vue Toastification */
[data-theme='dark'] .Vue-Toastification__toast {
  background-color: var(--color-bg-elevation) !important;
  color: var(--color-text-primary) !important;
  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2) !important;
}

[data-theme='dark'] .Vue-Toastification__toast--success {
  border-left: 4px solid var(--color-button-success) !important;
}

[data-theme='dark'] .Vue-Toastification__toast--error {
  border-left: 4px solid var(--color-button-danger) !important;
}

/* ===== KOMPONENTY SPECJALISTYCZNE ===== */

/* Komponent profilu użytkownika */
[data-theme='dark'] .profile-card {
  background: linear-gradient(145deg, var(--color-bg-secondary) 0%, var(--color-bg-accent) 50%);
  border-radius: 0.75rem;
  border: 1px solid var(--color-border);
  overflow: hidden;
  padding: 1.5rem;
}

[data-theme='dark'] .profile-avatar {
  border: 3px solid var(--color-border-focus);
  box-shadow: 0 0 15px rgba(94, 171, 242, 0.3);
}

/* Ustawienia użytkownika */
[data-theme='dark'] .settings-container {
  background-color: var(--color-bg-secondary);
  border-radius: 0.5rem;
  border: 1px solid var(--color-border);
  padding: 1rem;
}

[data-theme='dark'] .settings-nav {
  border-right: 1px solid var(--color-border);
}

[data-theme='dark'] .settings-section {
  padding: 1rem 0;
  border-bottom: 1px solid var(--color-border);
}

[data-theme='dark'] .settings-section:last-child {
  border-bottom: none;
}

/* Komponent powiadomień */
[data-theme='dark'] .notification-bell {
  position: relative;
  cursor: pointer;
}

[data-theme='dark'] .notification-badge {
  position: absolute;
  top: -5px;
  right: -5px;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background-color: var(--color-button-danger);
  color: white;
  font-size: 10px;
  text-align: center;
  line-height: 16px;
  animation: pulse-dark 2s infinite;
}

/* Dashboard i widżety */
[data-theme='dark'] .dashboard-widget {
  background-color: var(--color-bg-secondary);
  border-radius: 0.5rem;
  border: 1px solid var(--color-border);
  padding: 1.25rem;
  height: 100%;
  transition:
    transform 0.3s ease,
    box-shadow 0.3s ease;
}

[data-theme='dark'] .dashboard-widget:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

[data-theme='dark'] .widget-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

[data-theme='dark'] .widget-title {
  color: var(--color-text-primary);
  font-weight: 600;
  font-size: 1.125rem;
}

[data-theme='dark'] .widget-value {
  font-size: 2rem;
  font-weight: 700;
  margin: 1rem 0;
  color: var(--color-text-primary);
}

[data-theme='dark'] .widget-change {
  display: flex;
  align-items: center;
  font-size: 0.875rem;
}

[data-theme='dark'] .change-positive {
  color: var(--color-success-text);
}

[data-theme='dark'] .change-negative {
  color: var(--color-error-text);
}

/* ===== EFEKTY 3D I ZAAWANSOWANE EFEKTY WIZUALNE ===== */

/* Efekt głębi 3D dla kart */
[data-theme='dark'] .card-3d {
  transform-style: preserve-3d;
  perspective: 1000px;
}

[data-theme='dark'] .card-3d-inner {
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

[data-theme='dark'] .card-3d:hover .card-3d-inner {
  transform: rotateY(10deg);
}

/* Efekty parallax dla tła */
[data-theme='dark'] .parallax-bg {
  position: relative;
  overflow: hidden;
}

[data-theme='dark'] .parallax-bg::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background:
    radial-gradient(circle at 30% 20%, rgba(56, 189, 248, 0.05) 0%, transparent 50%),
    radial-gradient(circle at 70% 80%, rgba(244, 63, 94, 0.03) 0%, transparent 50%);
  z-index: -1;
  pointer-events: none;
}

/* Animowany gradient tła */
@keyframes gradientAnimation {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

[data-theme='dark'] .animated-gradient {
  background: linear-gradient(
    270deg,
    var(--color-bg-primary),
    var(--color-bg-secondary),
    var(--color-bg-elevation)
  );
  background-size: 600% 600%;
  animation: gradientAnimation 15s ease infinite;
}

/* Światła i cienie */
[data-theme='dark'] .highlight-top {
  position: relative;
}

[data-theme='dark'] .highlight-top::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 1px;
  background: linear-gradient(to right, transparent, rgba(255, 255, 255, 0.1), transparent);
}

/* ===== DODATKOWE WSPARCIE DLA KOMPONENTÓW VUE ===== */

/* Vue Transitions */
[data-theme='dark'] .v-enter-active,
[data-theme='dark'] .v-leave-active {
  transition: opacity 0.3s ease;
}

[data-theme='dark'] .v-enter-from,
[data-theme='dark'] .v-leave-to {
  opacity: 0;
}

/* Fade Transition */
[data-theme='dark'] .fade-enter-active,
[data-theme='dark'] .fade-leave-active {
  transition: opacity 0.5s ease;
}

[data-theme='dark'] .fade-enter-from,
[data-theme='dark'] .fade-leave-to {
  opacity: 0;
}

/* Slide Transition */
[data-theme='dark'] .slide-enter-active,
[data-theme='dark'] .slide-leave-active {
  transition: transform 0.5s ease;
}

[data-theme='dark'] .slide-enter-from {
  transform: translateX(-30px);
  opacity: 0;
}

[data-theme='dark'] .slide-leave-to {
  transform: translateX(30px);
  opacity: 0;
}

/* Wsparcie dla Vue Router */
[data-theme='dark'] .router-link-active,
[data-theme='dark'] .router-link-exact-active {
  color: var(--color-button-primary) !important;
  font-weight: 600;
}

/* ===== ZAGNIEŻDŻONE ELEMENTY I SELEKTORY ===== */

/* Zagnieżdżone listy */
[data-theme='dark'] ul li ul,
[data-theme='dark'] ol li ol,
[data-theme='dark'] ul li ol,
[data-theme='dark'] ol li ul {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* Style dla listy FAQ */
[data-theme='dark'] .faq-item {
  border-bottom: 1px solid var(--color-border);
  padding: 1rem 0;
}

[data-theme='dark'] .faq-question {
  font-weight: 600;
  color: var(--color-text-primary);
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

[data-theme='dark'] .faq-answer {
  margin-top: 1rem;
  color: var(--color-text-secondary);
}

/* ===== DODATKOWE KLASY POMOCNICZE ===== */

/* Kolorowe obramowania */
[data-theme='dark'] .border-focus {
  border-color: var(--color-border-focus) !important;
}

[data-theme='dark'] .border-success {
  border-color: var(--color-button-success) !important;
}

[data-theme='dark'] .border-danger {
  border-color: var(--color-button-danger) !important;
}

/* Przezroczystości tła */
[data-theme='dark'] .bg-opacity-10 {
  background-color: rgba(255, 255, 255, 0.1) !important;
}

[data-theme='dark'] .bg-opacity-20 {
  background-color: rgba(255, 255, 255, 0.2) !important;
}

/* Cienie */
[data-theme='dark'] .shadow-soft {
  box-shadow:
    0 2px 4px rgba(0, 0, 0, 0.1),
    0 1px 2px rgba(0, 0, 0, 0.06) !important;
}

[data-theme='dark'] .shadow-hard {
  box-shadow:
    0 10px 25px rgba(0, 0, 0, 0.2),
    0 5px 10px rgba(0, 0, 0, 0.1) !important;
}

[data-theme='dark'] .shadow-inner {
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

/* Podświetlone tło */
[data-theme='dark'] .highlight-bg-primary {
  background-color: rgba(14, 165, 233, 0.15) !important;
}

[data-theme='dark'] .highlight-bg-success {
  background-color: rgba(16, 185, 129, 0.15) !important;
}

[data-theme='dark'] .highlight-bg-danger {
  background-color: rgba(244, 63, 94, 0.15) !important;
}

/* ===== WSPARCIE DOSTĘPNOŚCI (A11Y) ===== */

/* Lepsza widoczność fokusa dla dostępności */
[data-theme='dark'] *:focus-visible {
  outline: 2px solid var(--color-border-focus) !important;
  outline-offset: 2px !important;
}

/* Ulepszone stany dla elementów interaktywnych */
[data-theme='dark'] [aria-selected='true'] {
  background-color: rgba(14, 165, 233, 0.15);
  font-weight: 600;
}

[data-theme='dark'] [aria-current='page'] {
  color: var(--color-button-primary);
  font-weight: 600;
}

[data-theme='dark'] [aria-disabled='true'] {
  opacity: 0.6;
  cursor: not-allowed;
}

/* ===== RESPONSYWNOŚĆ W CIEMNYM MOTYWIE ===== */

/* Mobile specific dark theme adjustments */
@media (max-width: 640px) {
  [data-theme='dark'] {
    --color-shadow: rgba(0, 0, 0, 0.3); /* Lżejsze cienie na mobilnych */
  }

  [data-theme='dark'] .card,
  [data-theme='dark'] .panel {
    border-radius: 0.375rem; /* Mniejsze zaokrąglenia */
  }

  /* Mniejsze paddinge na mobilnych */
  [data-theme='dark'] .card-body,
  [data-theme='dark'] .panel-body {
    padding: 0.75rem !important;
  }
}

/* ===== ROZSZERZENIE CIEMNEGO MOTYWU - WSZYSTKIE KOMPONENTY ===== */

/* ===== WIDOK QUIZU I EGZAMINU ===== */

[data-theme='dark'] .quiz-view,
[data-theme='dark'] .exam-view {
  background-color: var(--color-bg-primary);
}

[data-theme='dark'] .quiz-container,
[data-theme='dark'] .exam-container {
  background-color: var(--color-bg-secondary);
}

[data-theme='dark'] .timer-display {
  color: var(--color-text-primary);
  background-color: var(--color-bg-elevation);
  border: 1px solid var(--color-border);
}

[data-theme='dark'] .question-navigation {
  background-color: var(--color-bg-subtle);
  border: 1px solid var(--color-border);
}

[data-theme='dark'] .question-nav-button {
  background-color: var(--color-bg-accent);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

[data-theme='dark'] .question-nav-button.current {
  background-color: var(--color-button-primary);
  color: white;
  border-color: var(--color-button-primary);
}

[data-theme='dark'] .question-nav-button.answered {
  background-color: var(--color-info-bg);
  color: var(--color-info-text);
}

/* ===== WIDOK KATEGORII PYTAŃ ===== */

[data-theme='dark'] .category-title {
  color: var(--color-text-primary);
}

[data-theme='dark'] .category-highlight {
  color: var(--color-text-link);
}

[data-theme='dark'] .category-stats-badge {
  background-color: var(--color-bg-elevation);
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
}

[data-theme='dark'] .stats-icon {
  color: var(--color-text-link);
}

[data-theme='dark'] .filter-container {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
}

[data-theme='dark'] .filter-button {
  background-color: var(--color-bg-accent);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

[data-theme='dark'] .filter-button.active {
  background-color: var(--color-button-primary);
  color: white;
  border-color: var(--color-button-primary);
}

[data-theme='dark'] .empty-state {
  background-color: var(--color-bg-secondary);
  border: 1px dashed var(--color-border);
  color: var(--color-text-secondary);
}

[data-theme='dark'] .empty-subtext {
  color: var(--color-text-muted);
}

/* ===== KOMPONENTY PYTAŃ I ODPOWIEDZI ===== */

[data-theme='dark'] .question-card {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  box-shadow: var(--tw-shadow);
}

[data-theme='dark'] .question-header {
  border-bottom: 1px solid var(--color-border-light);
}

[data-theme='dark'] .question-id {
  color: var(--color-text-secondary);
  background-color: var(--color-bg-accent);
  border-radius: 4px;
  padding: 2px 6px;
}

[data-theme='dark'] .question-content {
  color: var(--color-text-primary);
}

[data-theme='dark'] .answer-item {
  background-color: var(--color-bg-accent);
  border: 1px solid var(--color-border);
  transition: all 0.2s ease;
}

[data-theme='dark'] .answer-item:hover {
  background-color: var(--color-bg-hover);
  transform: translateY(-1px);
}

[data-theme='dark'] .answer-letter {
  background-color: var(--color-bg-subtle);
  color: var(--color-text-primary);
  border-right: 1px solid var(--color-border);
}

[data-theme='dark'] .answer-text {
  color: var(--color-text-primary);
}

[data-theme='dark'] .correct-answer {
  border-color: var(--color-success-border) !important;
  background-color: var(--color-success-bg) !important;
}

[data-theme='dark'] .correct-answer .answer-letter {
  background-color: var(--color-button-success);
  color: white;
}

[data-theme='dark'] .incorrect-answer {
  border-color: var(--color-error-border) !important;
  background-color: var(--color-error-bg) !important;
}

[data-theme='dark'] .incorrect-answer .answer-letter {
  background-color: var(--color-button-danger);
  color: white;
}

[data-theme='dark'] .question-actions {
  color: var(--color-text-secondary);
}

/* ===== WIDOK PODSUMOWANIA I HISTORII ===== */

[data-theme='dark'] .summary-box {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  box-shadow: var(--tw-shadow);
}

[data-theme='dark'] .summary-header {
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-primary);
}

[data-theme='dark'] .summary-score-section {
  background-color: var(--color-bg-accent);
  border-radius: 8px;
}

[data-theme='dark'] .summary-score {
  color: var(--color-text-primary);
}

[data-theme='dark'] .summary-score-value {
  color: var(--color-button-primary);
}

[data-theme='dark'] .summary-percentage {
  color: var(--color-text-primary);
}

[data-theme='dark'] .summary-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
}

[data-theme='dark'] .summary-stat {
  background-color: var(--color-bg-primary);
  border-radius: 0.5rem;
  padding: 1rem;
  text-align: center;
}

[data-theme='dark'] .stat-value {
  font-size: 1.5rem;
  font-weight: 600;
}

[data-theme='dark'] .stat-label {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

[data-theme='dark'] .correct-answers,
[data-theme='dark'] .summary-score-high {
  color: var(--color-button-success);
}

[data-theme='dark'] .incorrect-answers,
[data-theme='dark'] .summary-score-low {
  color: var(--color-button-danger);
}

[data-theme='dark'] .skipped-answers,
[data-theme='dark'] .summary-score-medium {
  color: var(--color-warning-text);
}

/* ===== USER PANEL ===== */

[data-theme='dark'] .user-panel-card,
[data-theme='dark'] .user-panel {
  background-color: var(--color-bg-secondary);
  border-radius: 0.75rem;
  border: 1px solid var(--color-border);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  overflow: hidden;
}

[data-theme='dark'] .user-panel-header,
[data-theme='dark'] .user-profile-header {
  background: linear-gradient(to right, #1e40af, #3b82f6);
  padding: 2rem;
  color: white;
  border-bottom: 1px solid var(--color-border);
}

[data-theme='dark'] .user-avatar {
  width: 6rem;
  height: 6rem;
  border-radius: 9999px;
  border: 4px solid rgba(255, 255, 255, 0.2);
  background-color: white;
  overflow: hidden;
}

[data-theme='dark'] .user-name {
  font-size: 1.5rem;
  font-weight: 600;
}

[data-theme='dark'] .user-email {
  font-size: 0.875rem;
  opacity: 0.8;
}

[data-theme='dark'] .user-panel-content,
[data-theme='dark'] .user-content {
  padding: 1.5rem;
  background-color: var(--color-bg-secondary);
}

[data-theme='dark'] .user-section {
  margin-bottom: 2rem;
}

[data-theme='dark'] .section-title {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: var(--color-text-primary);
  display: flex;
  align-items: center;
}

[data-theme='dark'] .section-icon {
  color: var(--color-button-primary);
  margin-right: 0.5rem;
}

[data-theme='dark'] .user-sidebar {
  background-color: var(--color-bg-accent);
  border-right: 1px solid var(--color-border);
}

[data-theme='dark'] .user-menu-item {
  color: var(--color-text-secondary);
  border-left: 3px solid transparent;
  transition: all 0.2s ease;
}

[data-theme='dark'] .user-menu-item:hover {
  background-color: var(--color-bg-hover);
  color: var(--color-text-primary);
}

[data-theme='dark'] .user-menu-item.active {
  background-color: rgba(14, 165, 233, 0.15);
  color: var(--color-text-link);
  border-left-color: var(--color-button-primary);
}

/* Theme options */
[data-theme='dark'] .theme-options {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.5rem;
}

[data-theme='dark'] .theme-option {
  background-color: var(--color-bg-primary);
  border: 1px solid var(--color-border);
  border-radius: 0.5rem;
  padding: 1rem;
  cursor: pointer;
  transition: all 0.2s ease;
  flex: 1;
}

[data-theme='dark'] .theme-option:hover {
  transform: translateY(-2px);
}

[data-theme='dark'] .theme-option.selected {
  border-color: var(--color-button-primary);
  box-shadow: 0 0 0 2px rgba(14, 165, 233, 0.2);
}

[data-theme='dark'] .theme-preview {
  height: 3rem;
  border-radius: 0.25rem;
  margin-bottom: 0.5rem;
}

[data-theme='dark'] .light-preview {
  background-color: #f8fafc;
  border: 1px solid #e2e8f0;
}

[data-theme='dark'] .dark-preview {
  background-color: #0f172a;
  border: 1px solid #1e293b;
}

/* ===== HOME VIEW ===== */

[data-theme='dark'] .welcome-banner {
  background: linear-gradient(to right, #1e40af, #3b82f6);
  border-radius: 0.75rem;
  padding: 2rem;
  margin-bottom: 2rem;
  color: white;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

[data-theme='dark'] .welcome-title,
[data-theme='dark'] .welcome-section .welcome-title {
  font-size: 1.75rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: white;
}

[data-theme='dark'] .welcome-text,
[data-theme='dark'] .welcome-subtitle,
[data-theme='dark'] .welcome-section .welcome-subtitle {
  opacity: 0.9;
  color: rgba(255, 255, 255, 0.9);
}

[data-theme='dark'] .categories-title {
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: var(--color-text-primary);
}

[data-theme='dark'] .categories-grid,
[data-theme='dark'] .category-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(16rem, 1fr));
  gap: 1.5rem;
}

[data-theme='dark'] .category-card {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: 0.75rem;
  transition: all 0.3s ease;
}

[data-theme='dark'] .category-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
  border-color: var(--color-button-primary);
}

[data-theme='dark'] .category-content {
  padding: 1.25rem;
}

[data-theme='dark'] .category-name {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: var(--color-text-primary);
}

[data-theme='dark'] .category-description {
  color: var(--color-text-secondary);
  margin-bottom: 1rem;
}

[data-theme='dark'] .category-stats {
  display: flex;
  align-items: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

[data-theme='dark'] .category-stats-badge {
  background-color: var(--color-bg-elevation);
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
}

[data-theme='dark'] .stats-icon {
  color: var(--color-text-link);
  margin-right: 0.25rem;
}

[data-theme='dark'] .category-footer,
[data-theme='dark'] .category-actions {
  padding: 1rem 1.25rem;
  border-top: 1px solid var(--color-border-light);
  display: flex;
  justify-content: space-between;
  background-color: var(--color-bg-accent);
}

/* ===== ALERTY I MODALNE OKNA ===== */

[data-theme='dark'] .base-alert,
[data-theme='dark'] .alert {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

[data-theme='dark'] .alert-success {
  background-color: var(--color-success-bg);
  border-color: var(--color-success-border);
  color: var(--color-success-text);
}

[data-theme='dark'] .alert-error {
  background-color: var(--color-error-bg);
  border-color: var(--color-error-border);
  color: var(--color-error-text);
}

[data-theme='dark'] .alert-warning {
  background-color: var(--color-warning-bg);
  border-color: var(--color-warning-border);
  color: var(--color-warning-text);
}

[data-theme='dark'] .alert-info {
  background-color: var(--color-info-bg);
  border-color: var(--color-info-border);
  color: var(--color-info-text);
}

[data-theme='dark'] .base-modal-overlay,
[data-theme='dark'] .modal-overlay {
  background-color: var(--color-overlay);
}

[data-theme='dark'] .base-modal-content,
[data-theme='dark'] .modal-content {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
  border-radius: 1rem;
  box-shadow:
    0 25px 50px rgba(0, 0, 0, 0.5),
    0 10px 20px rgba(0, 0, 0, 0.3);
  overflow: hidden;
}

[data-theme='dark'] .base-modal-header,
[data-theme='dark'] .modal-header {
  background-color: var(--color-bg-primary);
  border-bottom: 1px solid var(--color-border);
  padding: 1.25rem 1.5rem;
}

[data-theme='dark'] .base-modal-title,
[data-theme='dark'] .modal-title {
  color: var(--color-text-primary);
}

[data-theme='dark'] .base-modal-body,
[data-theme='dark'] .modal-body {
  padding: 1.5rem;
}

[data-theme='dark'] .base-modal-footer,
[data-theme='dark'] .modal-footer {
  background-color: var(--color-bg-primary);
  border-top: 1px solid var(--color-border);
  padding: 1.25rem 1.5rem;
}

/* ===== ELEMENTY 404 I BŁĘDY ===== */

[data-theme='dark'] .not-found {
  background-color: var(--color-bg-primary);
}

[data-theme='dark'] .not-found-content {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
}

[data-theme='dark'] .not-found-title {
  color: var(--color-text-primary);
}

[data-theme='dark'] .not-found-text {
  color: var(--color-text-secondary);
}

/* ===== WIDOK ADMINISTRATORA ===== */

[data-theme='dark'] .admin-container {
  background-color: var(--color-bg-secondary);
}

[data-theme='dark'] .admin-sidebar {
  background-color: var(--color-bg-subtle);
  border-right: 1px solid var(--color-border);
}

[data-theme='dark'] .admin-content {
  background-color: var(--color-bg-primary);
}

[data-theme='dark'] .admin-card {
  background-color: var(--color-bg-secondary);
  border: 1px solid var(--color-border);
}

[data-theme='dark'] .admin-table {
  background-color: var(--color-bg-secondary);
}

[data-theme='dark'] .admin-table th {
  background-color: var(--color-bg-subtle);
  border-bottom: 2px solid var(--color-border);
}

[data-theme='dark'] .admin-table td {
  border-bottom: 1px solid var(--color-border-light);
}

/* ===== DODATKOWE ELEMENTY ===== */

/* Karty prawidłowych/nieprawidłowych odpowiedzi */
[data-theme='dark'] .correct-card {
  border-left: 4px solid var(--color-button-success);
  background: linear-gradient(90deg, rgba(16, 185, 129, 0.15), var(--color-bg-secondary));
}

[data-theme='dark'] .incorrect-card {
  border-left: 4px solid var(--color-button-danger);
  background: linear-gradient(90deg, rgba(244, 63, 94, 0.15), var(--color-bg-secondary));
}

/* Progress Bar */
[data-theme='dark'] .progress-bar,
[data-theme='dark'] .progress-bar-container {
  background-color: var(--color-bg-accent);
  border: 1px solid var(--color-border-light);
  overflow: hidden;
  border-radius: 0.25rem;
}

[data-theme='dark'] .progress-bar-fill {
  background-color: var(--color-button-primary);
  box-shadow: 0 0 10px rgba(14, 165, 233, 0.3);
}

[data-theme='dark'] .progress-bar-fill.success {
  background-color: var(--color-button-success);
}

[data-theme='dark'] .progress-bar-fill.danger {
  background-color: var(--color-button-danger);
}

/* Scrollbar */
[data-theme='dark'] ::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

[data-theme='dark'] ::-webkit-scrollbar-track {
  background: var(--color-bg-subtle);
  border-radius: 8px;
}

[data-theme='dark'] ::-webkit-scrollbar-thumb {
  background-color: var(--color-border-dark);
  border-radius: 8px;
  border: 3px solid var(--color-bg-subtle);
}

[data-theme='dark'] ::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-border-focus);
}

/* ===== OPTYMALIZACJE WYDAJNOŚCI ===== */

@media (prefers-reduced-motion: reduce) {
  [data-theme='dark'] * {
    transition-duration: 0.01ms !important;
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
  }
}

/* ===== RESPONSYWNOŚĆ ===== */

@media (max-width: 640px) {
  [data-theme='dark'] .card,
  [data-theme='dark'] .panel {
    border-radius: 0.375rem; /* Mniejsze zaokrąglenia */
  }

  /* Mniejsze paddinge na mobilnych */
  [data-theme='dark'] .card-body,
  [data-theme='dark'] .panel-body {
    padding: 0.75rem !important;
  }
}

/* ===== ROZSZERZENIE STYLÓW WYSZUKIWARKI W CIEMNYM MOTYWIE ===== */

/* Przezroczyste tło dla wyszukiwarki */
[data-theme='dark'] .search-wrapper {
  background-color: rgba(26, 33, 95, 0.226) !important; /* Półprzezroczyste tło */
  backdrop-filter: blur(4px) !important; /* Efekt rozmycia pod elementem */
  -webkit-backdrop-filter: blur(4px) !important;
  border-radius: 0.5rem;
  padding: 0.5rem 0.75rem;
  display: flex;
  align-items: center;
  transition: all 0.2s ease;
}
[data-theme='dark'] .search-wrapper input {
  background-color: rgba(26, 33, 95, 0) !important; /* Półprzezroczyste tło */
}
/* Efekt hover dla wyszukiwarki */
[data-theme='dark'] .search-wrapper:hover {
  background-color: rgba(26, 34, 54, 0.8);
  border-color: rgba(54, 70, 115, 0.8);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

/* Efekt aktywnej wyszukiwarki przy focus */
[data-theme='dark'] .search-wrapper:focus-within {
  background-color: rgba(32, 41, 66, 0.9);
  border-color: var(--color-border-focus);
  box-shadow:
    0 0 0 3px rgba(94, 171, 242, 0.25),
    0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Ikona wyszukiwarki z lepszym kontrastem i efektami */
[data-theme='dark'] .search-icon {
  color: var(--color-text-link);
  margin-right: 0.75rem;
  font-size: 1.125rem;
  transition:
    transform 0.2s ease,
    color 0.2s ease;
}

/* Animacja ikony przy fokusie na wyszukiwarce */
[data-theme='dark'] .search-wrapper:focus-within .search-icon {
  color: var(--color-button-primary);
  transform: scale(1.1);
}

/* Fallback dla przeglądarek bez wsparcia dla backdrop-filter */
@supports not (backdrop-filter: blur(4px)) {
  [data-theme='dark'] .search-wrapper {
    background-color: var(--color-bg-secondary);
  }

  [data-theme='dark'] .search-wrapper:hover,
  [data-theme='dark'] .search-wrapper:focus-within {
    background-color: var(--color-bg-elevation);
  }
}
